# AUTHOR - YATIN GAMBHIR
# DATE - 11 JANUARY 2023
# TOPIC - DEPLOYING A STATIC WEBPAGE USING DOCKER AND JENKINS WITH GITHUB INTEGRATION AS A VCS TOOL
---------------------------------------------------------------------------------------------------------------

STEP 1 - LAUNCH AN AWS EC2 INSTANCE WITH UBUNTU AS A PREFERRED OS. 

STEP 2 - WAIT FOR THE INSTANCE TO BE UP & RUNNING AND NOW LOGIN TO YOUR SYSTEM USING SSH. OPEN CMD IN YOUR WINDOWS AND SSH INTO THE EC2 INSTANCE USING "ssh -i '<path-of-your-private-key>' 'username'@'public-ip-address-of-ec2'" NOW ENTER 'yes' AND YOU WILL BE ABLE TO LOGIN TO THE INSTANCE.

STEP 3 - DO UPDATE AND UPGRADE THE SYSTEM USING 'sudo apt update' & 'sudo apt upgrade'.

STEP 4 - TO INSTALL JENKINS YOU HAVE TO INSTALL JAVA JDK FIRST USING 'sudo apt install default-jre' & CHECK THE VERSION OF JAVA USING 'java --version' TO VERIFY THAT THE JAVA JDK IS INSTALLED.

STEP 5 - NOW INSTALL JENKINS USING 'sudo apt install jenkins', WAIT FOR THE JENKINS TO BE INSTALLED IN YOUR SYSTEM. NEXT STEP IS TO INSTALL DOCKER IN THE SYSTEM.

STEP 6 - INSTALL DOCKER USING 'sudo install docker.io' AND GIVE THE PERMISSIONS TO INTEGRATE DOCKER WITH JENKINS USING 'sudo usermod -aG docker jenkins'

STEP 7 - AFTER YOUR JENKINS AND DOCKER IS INSTALLED YOU CAN VERIFY THE INSTALLATION USING 'sudo systemctl status docker' & 'sudo systemctl status jenkins'

# MAKE SURE THAT THE 8080 PORT IS ALLOWED IN THE INBOUND RULE OF EC2.

STEP 8 - NOW ACCESS THE JENKINS IN YOUR WEB BROWSER USING 'public-ip-of-ec2':8080. BY DEFAULT THE JENKINS RUNS ON PORT 8080. AFTER THE JENKINS IS ACCESSIBLE. ENTER THE PASSWORD TO PROCEED. YOU CAN THE GET PASSWORD TO UNLOCK JENKINS USING "cat '<the-path-shown-on-your-screen>' ". NOW UNLOCK JENKINS AND COMPLETE THE CONFIGURATION PART BY INSTALLING THE SUGGESTED PLUGINS AND ENTERING THE ADMIN DETAILS.

STEP 9 - YOU HAVE SUCCESSFULLY UNLOCKED JENKINS AND ITS CONFIGURED. NOW INSTALL THE DOCKER PLUGIN BY GOING THE MANGE JENKINS -> PLUGINS -> AVAILABLE PLUGINS. NOW INSTALL THE DOCKER PLUGIN TO INTEGRATE JENKINS AND DOCKER.

STEP 10 - NOW CREATE A NEW JOB AND A PIPELINE PROJECT. THE SOURCE CODE IS UPLOADED TO MY GITHUB REPOSITORY IN THE 'first-pipeline-demo' FOLDER ALONG WITH THE JENKINSFILE AND DOCKERFILE. GIVE THE GITHUB REPOSITORY URL AND THE JENKINSFILE PATH AS WELL AS THE BRANCH WHERE YOUR FILES ARE PRESENT. ALSO ADD THE GITHUB CREDENTIALS(USERNAME & PASSWORD/PERSONAL_ACCESS_TOKEN(SECRET_KEY)) IN THE CREDENTIALS FIELD.

STEP 11 - NOW SAVE THE PIPELINE PROJECT CONFIGURATIONS AND CLICK ON THE 'BUILD NOW' BUTTON TO START THE PROCESS OF BUILDING THE PIPELINE. AFTER YOUR PIPELINE IS SUCCESSFULLY BUILD GO TO THE TERMINAL AND CHECK WHETHER THE DOCKER CONTAINER IS CREATED AUTOMATICALLY USING 'docker ps' COMMAND. AND YOU CAN NOW ACCESS THE CONTAINER USING THE 'public-ip-address-of-ec2:port-number(8081)'. 

# YOU CAN GIVE THE CONTAINER PORT NUMBER AS PER YOUR CHOICE IN THE JENKINSFILE AND EXPOSED IN THE DOCKERFILE. ALSO, MAKE SURE THAT THE PORT IS EXPOSED IN THE INBOUND RULE OF YOUR AWS EC2 INSTANCE.

THIS IS THE WHOLE PROCESS OF JENKINS AUTOMATING THE BUILDING AND CREATION OF CONTAINERS USING THE DOCKER PLUGIN ALONG WITH GITHUB INTEGRATION WITH JENKINS.

IN THE END, AFTER YOUR WORK IS DONE MAKE SURE TO TERMINATE THE AWS EC2 INSTANCE, PUBLIC IP ADDRESS, AND STORAGE TO STOP INCURRING THE CHARGES.

--------------------------------------------------------------------------------------------------------------------------------------

THANKYOU!! HAPPY LEARNING


